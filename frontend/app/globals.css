@import "@fontsource/material-symbols-outlined/400.css";
@import "tailwindcss";

:root {
  --primary-color: #1fa97c;
  --secondary-color: #e5e5e5;
  --accent-gold: #d4af37;
  --background: #f9fafb;
  --foreground: #1f2933;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-inter, var(--font-geist-sans));
  --font-display: var(--font-inter, var(--font-geist-sans));
}

body {
  min-height: 100dvh;
  background: var(--background);
  color: var(--foreground);
}

.font-display {
  font-family: var(--font-display);
}

@layer base {
  .material-symbols-outlined {
    font-family: "Material Symbols Outlined";
    font-weight: normal;
    font-style: normal;
    font-size: 24px;
    line-height: 1;
    letter-spacing: normal;
    text-transform: none;
    display: inline-block;
    white-space: nowrap;
    word-wrap: normal;
    direction: ltr;
    font-variant-ligatures: normal;
    font-feature-settings: "liga";
    -webkit-font-feature-settings: "liga";
    font-optical-sizing: auto;
    -webkit-font-smoothing: antialiased;
    font-variation-settings: "FILL" 0, "wght" 400, "GRAD" 0, "opsz" 24;
  }
}

@layer components {
  .enter-animated {
    opacity: 0;
    transform: var(--enter-transform, translateY(16px));
    animation: enter-animated var(--enter-duration, 520ms) cubic-bezier(0.22, 1, 0.36, 1) forwards;
    animation-delay: calc(var(--enter-index, 0) * var(--enter-stagger, 80ms) + var(--enter-delay, 0ms));
    --enter-mid-transform: translate3d(0, -4px, 0) scale(1.01);
    will-change: transform, opacity;
  }

  .enter-from-left {
    --enter-transform: translateX(-24px);
    --enter-mid-transform: translateX(4px);
  }

  .enter-from-right {
    --enter-transform: translateX(24px);
    --enter-mid-transform: translateX(-4px);
  }

  .enter-from-top {
    --enter-transform: translateY(-20px);
    --enter-mid-transform: translateY(4px);
  }

  .enter-from-bottom {
    --enter-transform: translateY(20px);
    --enter-mid-transform: translateY(-4px);
  }

  .enter-pop {
    --enter-transform: scale(0.82);
    --enter-mid-transform: scale(1.05);
    --enter-duration: 560ms;
  }

  .enter-duration-short {
    --enter-duration: 420ms;
  }

  .enter-duration-long {
    --enter-duration: 680ms;
  }

  .category-link {
    @apply relative flex w-full items-center px-6 py-3 text-sm font-medium text-gray-500 rounded-r-full overflow-hidden transition-all duration-300 ease-out;
  }

  .category-link::before {
    content: "";
    position: absolute;
    inset: 0;
    background: linear-gradient(90deg, rgba(31, 169, 124, 0.12), rgba(31, 169, 124, 0));
    transform: translateX(-100%);
    opacity: 0;
    transition: transform 250ms ease, opacity 250ms ease;
  }

  .category-link::after {
    content: "";
    position: absolute;
    left: 0;
    top: 22px;
    bottom: 22px;
    width: 3px;
    border-radius: 9999px;
    background: var(--accent-gold, #d4af37);
    transform: scaleY(0);
    transition: transform 250ms ease;
  }

  .category-link:hover,
  .category-link:focus-visible {
    @apply text-gray-900;
  }

  .category-link:hover::before,
  .category-link:focus-visible::before {
    transform: translateX(0%);
    opacity: 1;
  }

  .category-link--active {
    @apply text-gray-900 font-semibold;
  }

  .category-link--active::before {
    transform: translateX(0%);
    opacity: 1;
  }

  .category-link--active::after {
    transform: scaleY(1);
  }

  .category-link__icon {
    margin-right: 0.75rem;
    font-size: 1.125rem;
    line-height: 1;
    transition: transform 300ms ease-out;
  }

  .category-link:hover .category-link__icon,
  .category-link:focus-visible .category-link__icon {
    transform: translateX(-2px) rotate(-6deg) scale(1.05);
  }

  .detail-option-button {
    @apply rounded-2xl border transition-all duration-200 px-4 py-3 text-sm font-medium shadow-sm focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-500/60 focus-visible:ring-offset-2 focus-visible:ring-offset-white/60;
    cursor: pointer;
  }

  .detail-option-button--selected {
    @apply border-transparent bg-gradient-to-br from-amber-400/90 to-amber-500/80 text-white shadow-lg;
    box-shadow: 0 12px 26px -12px rgba(217, 119, 6, 0.55);
  }

  .detail-option-button--unselected {
    @apply border-white/60 bg-white/70 text-gray-600 hover:bg-white;
  }

  .detail-option-button--unselected .detail-option-button__price {
    @apply text-amber-700;
  }

  .detail-option-button--selected .detail-option-button__price {
    @apply text-white/90;
  }

  .detail-add-button {
    @apply rounded-full bg-gradient-to-r from-amber-500 to-amber-600 px-6 py-3 text-sm font-semibold text-white shadow-lg transition;
    box-shadow: 0 18px 32px -12px rgba(217, 119, 6, 0.55);
    cursor: pointer;
  }

  .cart-quantity-button,
  .cart-remove-button,
  .cart-checkout-button,
  .cart-back-link {
    cursor: pointer;
  }

  .detail-add-button:hover,
  .detail-add-button:focus-visible {
    @apply from-amber-600 to-amber-500;
    transform: translateY(-2px);
    box-shadow: 0 22px 38px -14px rgba(217, 119, 6, 0.65);
  }

  .category-pill__icon {
    margin-right: 0.25rem;
    font-size: 1rem;
    line-height: 1;
    transition: transform 300ms ease-out;
  }

  .category-pill:hover .category-pill__icon,
  .category-pill:focus-visible .category-pill__icon {
    transform: translateX(-1px) rotate(-8deg) scale(1.08);
  }

  .category-pill {
    @apply relative inline-flex items-center py-2 px-3 text-sm font-semibold text-gray-500 rounded-full transition-all duration-300 ease-out;
  }

  .category-pill::before {
    content: "";
    position: absolute;
    inset: 0;
    background: rgba(31, 169, 124, 0.12);
    transform: scale(0.4);
    opacity: 0;
    border-radius: 9999px;
    transition: transform 250ms ease, opacity 250ms ease;
  }

  .category-pill:hover,
  .category-pill:focus-visible {
    @apply text-gray-900;
  }

  .category-pill:hover::before,
  .category-pill:focus-visible::before {
    transform: scale(1);
    opacity: 1;
  }

  .category-pill--active {
    @apply text-gray-900;
  }

  .category-pill--active::before {
    transform: scale(1);
    opacity: 1;
  }

  .product-card {
    @apply relative flex flex-col bg-white rounded-lg shadow-sm transition-all duration-300 ease-out focus-within:-translate-y-1 focus-within:shadow-lg overflow-hidden;
    opacity: 0;
    transform: translateY(12px) scale(0.98);
    animation: card-fade-in 520ms cubic-bezier(0.22, 1, 0.36, 1) forwards;
    animation-delay: calc(var(--card-index, 0) * 80ms);
  }

  .product-card:hover {
    @apply -translate-y-1 shadow-xl;
  }

  .product-card__image {
    @apply w-full aspect-square bg-cover bg-center rounded-t-lg transition duration-500 ease-out;
  }

  .product-card:hover .product-card__image,
  .product-card:focus-within .product-card__image {
    transform: scale(1.07);
  }

  .product-card__body {
    @apply p-3 flex-grow flex flex-col;
  }

  .product-card__button {
    @apply relative bg-[var(--primary-color)] text-white rounded-full w-7 h-7 flex items-center justify-center transition duration-300 ease-out;
    overflow: hidden;
  }

  .product-card__button:hover,
  .product-card__button:focus-visible {
    @apply scale-105 shadow-md;
  }

  .product-card__button:active {
    transform: scale(0.92);
  }

  .shop-fab {
    @apply bg-black text-white rounded-full w-14 h-14 flex items-center justify-center shadow-xl relative transition duration-300 ease-out;
  }

  .shop-fab:hover,
  .shop-fab:focus-visible {
    transform: translateY(-4px) scale(1.03);
  }

  .pressable.is-pressed {
    transform: translateX(4px);
  }

  .pill-pressable.is-pressed {
    transform: scale(0.96);
  }

  .button-ripple {
    position: absolute;
    border-radius: 9999px;
    background: rgba(255, 255, 255, 0.5);
    transform: scale(0);
    opacity: 0.75;
    animation: ripple 600ms ease-out forwards;
  }
}

@keyframes enter-animated {
  0% {
    opacity: 0;
    transform: var(--enter-transform, translateY(16px));
  }
  60% {
    opacity: 1;
    transform: var(--enter-mid-transform, translate3d(0, -4px, 0) scale(1.01));
  }
  100% {
    opacity: 1;
    transform: none;
  }
}

@keyframes card-fade-in {
  0% {
    opacity: 0;
    transform: translateY(16px) scale(0.95);
  }
  60% {
    transform: translateY(-4px) scale(1.01);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@media (prefers-reduced-motion: reduce) {
  .enter-animated {
    animation: none !important;
    opacity: 1 !important;
    transform: none !important;
  }
}

@keyframes ripple {
  to {
    transform: scale(2.6);
    opacity: 0;
  }
}
