@import "@fontsource/material-symbols-outlined/400.css";
@import "tailwindcss";

:root {
  --primary-color: #1fa97c;
  --secondary-color: #e5e5e5;
  --accent-gold: #d4af37;
  --background: #f9fafb;
  --foreground: #1f2933;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-inter, var(--font-geist-sans));
  --font-display: var(--font-inter, var(--font-geist-sans));
}

body {
  min-height: 100dvh;
  background: var(--background);
  color: var(--foreground);
}

.font-display {
  font-family: var(--font-display);
}

@layer base {
  .material-symbols-outlined {
    font-family: "Material Symbols Outlined";
    font-weight: normal;
    font-style: normal;
    font-size: 24px;
    line-height: 1;
    letter-spacing: normal;
    text-transform: none;
    display: inline-block;
    white-space: nowrap;
    word-wrap: normal;
    direction: ltr;
    font-variant-ligatures: normal;
    font-feature-settings: "liga";
    -webkit-font-feature-settings: "liga";
    font-optical-sizing: auto;
    -webkit-font-smoothing: antialiased;
    font-variation-settings: "FILL" 0, "wght" 400, "GRAD" 0, "opsz" 24;
  }
}

@layer components {
  .enter-animated {
    opacity: 0;
    transform: var(--enter-transform, translateY(16px));
    animation: enter-animated var(--enter-duration, 520ms) cubic-bezier(0.22, 1, 0.36, 1) forwards;
    animation-delay: calc(var(--enter-index, 0) * var(--enter-stagger, 80ms) + var(--enter-delay, 0ms));
    --enter-mid-transform: translate3d(0, -4px, 0) scale(1.01);
    will-change: transform, opacity;
  }

  .enter-from-left {
    --enter-transform: translateX(-24px);
    --enter-mid-transform: translateX(4px);
  }

  .enter-from-right {
    --enter-transform: translateX(24px);
    --enter-mid-transform: translateX(-4px);
  }

  .enter-from-top {
    --enter-transform: translateY(-20px);
    --enter-mid-transform: translateY(4px);
  }

  .enter-from-bottom {
    --enter-transform: translateY(20px);
    --enter-mid-transform: translateY(-4px);
  }

  .enter-pop {
    --enter-transform: scale(0.82);
    --enter-mid-transform: scale(1.05);
    --enter-duration: 560ms;
  }

  .enter-duration-short {
    --enter-duration: 420ms;
  }

  .enter-duration-long {
    --enter-duration: 680ms;
  }

  .category-link {
    @apply relative flex w-full items-center px-6 py-3 text-sm font-medium text-gray-500 rounded-r-full overflow-hidden transition-all duration-300 ease-out;
  }

  .category-link::before {
    content: "";
    position: absolute;
    inset: 0;
    background: linear-gradient(90deg, rgba(31, 169, 124, 0.12), rgba(31, 169, 124, 0));
    transform: translateX(-100%);
    opacity: 0;
    transition: transform 250ms ease, opacity 250ms ease;
  }

  .category-link::after {
    content: "";
    position: absolute;
    left: 0;
    top: 22px;
    bottom: 22px;
    width: 3px;
    border-radius: 9999px;
    background: var(--accent-gold, #d4af37);
    transform: scaleY(0);
    transition: transform 250ms ease;
  }

  .category-link:hover,
  .category-link:focus-visible {
    @apply text-gray-900;
  }

  .category-link:hover::before,
  .category-link:focus-visible::before {
    transform: translateX(0%);
    opacity: 1;
  }

  .category-link--active {
    @apply text-gray-900 font-semibold;
  }

  .category-link--active::before {
    transform: translateX(0%);
    opacity: 1;
  }

  .category-link--active::after {
    transform: scaleY(1);
  }

  .category-link__icon {
    margin-right: 0.75rem;
    font-size: 1.125rem;
    line-height: 1;
    transition: transform 300ms ease-out;
  }

  .category-link:hover .category-link__icon,
  .category-link:focus-visible .category-link__icon {
    transform: translateX(-2px) rotate(-6deg) scale(1.05);
  }

  .header-back-button {
    cursor: pointer;
  }

  .detail-option-button {
    @apply rounded-2xl border transition-all duration-200 px-4 py-3 text-sm font-medium shadow-sm focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-500/60 focus-visible:ring-offset-2 focus-visible:ring-offset-white/60;
    cursor: pointer;
  }

  .detail-option-button:hover,
  .detail-option-button:focus-visible {
    transform: translateY(-2px) scale(1.015);
    box-shadow: 0 14px 28px -16px rgba(16, 185, 129, 0.3);
  }

  .detail-option-button--selected {
    @apply border-transparent bg-gradient-to-br from-emerald-400/90 to-emerald-500/80 text-white shadow-lg;
    box-shadow: 0 12px 26px -12px rgba(16, 185, 129, 0.45);
  }

  .detail-option-button--unselected {
    @apply border-white/60 bg-white/70 text-gray-600 hover:bg-white;
  }

  .detail-option-button--unselected:hover,
  .detail-option-button--unselected:focus-visible {
    @apply border-emerald-300/70 text-emerald-700;
  }

  .detail-option-button--unselected .detail-option-button__price {
    @apply text-emerald-700;
  }

  .detail-option-button--selected .detail-option-button__price {
    @apply text-white/90;
  }

  .detail-header-back {
    @apply inline-flex items-center gap-1 text-xs font-semibold uppercase tracking-[0.3em] text-gray-400 transition-colors duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500/40 focus-visible:ring-offset-2 focus-visible:ring-offset-white/70;
    cursor: pointer;
  }

  .detail-header-back:hover,
  .detail-header-back:focus-visible {
    @apply text-emerald-600;
  }

  .detail-add-button {
    @apply rounded-full bg-gradient-to-r from-emerald-500 to-emerald-600 px-6 py-3 text-sm font-semibold text-white shadow-lg transition;
    box-shadow: 0 18px 32px -12px rgba(16, 185, 129, 0.45);
    cursor: pointer;
  }

  .detail-add-button:hover,
  .detail-add-button:focus-visible {
    @apply from-emerald-600 to-emerald-500;
    transform: translateY(-2px);
    box-shadow: 0 22px 38px -14px rgba(16, 185, 129, 0.65);
  }

  .cart-quantity-button,
  .cart-remove-button,
  .cart-checkout-button,
  .cart-back-link {
    cursor: pointer;
  }

  .cart-quantity-button {
    border-color: rgba(56, 189, 248, 0.4);
    background: linear-gradient(145deg, rgba(236, 253, 245, 0.92), rgba(232, 245, 255, 0.9));
    color: rgba(14, 165, 233, 0.9);
    box-shadow: inset 0 1px 1px rgba(255, 255, 255, 0.75);
    transition: transform 0.2s ease, box-shadow 0.2s ease, color 0.2s ease;
  }

  .cart-quantity-button:hover {
    transform: translateY(-1px);
    box-shadow: inset 0 1px 1px rgba(255, 255, 255, 0.75),
      0 6px 16px -10px rgba(14, 165, 233, 0.35);
    color: rgba(13, 148, 136, 0.95);
  }

  .cart-checkout-button {
    @apply rounded-full bg-gradient-to-r from-emerald-500 to-emerald-600 px-5 py-3 text-sm font-semibold text-white shadow-lg transition;
    box-shadow: 0 18px 32px -12px rgba(16, 185, 129, 0.45);
  }

  .cart-checkout-button:hover,
  .cart-checkout-button:focus-visible {
    @apply from-emerald-600 to-emerald-500;
    transform: translateY(-1px);
    box-shadow: 0 22px 38px -16px rgba(16, 185, 129, 0.45);
  }

  .cart-hint {
    position: absolute;
    bottom: calc(100% + 10px);
    right: 50%;
    transform: translateX(50%);
    padding: 0.3rem 0.7rem;
    border-radius: 9999px;
    background: rgba(17, 24, 39, 0.85);
    color: #f9fafb;
    font-size: 0.65rem;
    letter-spacing: 0.16em;
    text-transform: uppercase;
    font-weight: 600;
    box-shadow: 0 12px 26px -18px rgba(17, 24, 39, 0.6);
    pointer-events: none;
    display: inline-flex;
    align-items: center;
    gap: 0.3rem;
    animation: cart-hint-float 3s ease-in-out infinite;
  }

  .cart-hint::after {
    content: "";
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    border-width: 6px 6px 0 6px;
    border-style: solid;
    border-color: rgba(17, 24, 39, 0.85) transparent transparent transparent;
  }

  .product-card {
    @apply relative flex flex-col bg-white rounded-lg shadow-sm transition-all duration-300 ease-out focus-within:-translate-y-1 focus-within:shadow-lg overflow-hidden;
    opacity: 0;
    transform: translateY(12px) scale(0.98);
    animation: card-fade-in 520ms cubic-bezier(0.22, 1, 0.36, 1) forwards;
    animation-delay: calc(var(--card-index, 0) * 80ms);
  }

  .product-card:hover {
    @apply -translate-y-1 shadow-xl;
  }

  .product-card__image {
    @apply relative w-full aspect-square overflow-hidden rounded-t-lg;
  }

  .product-card__image-inner {
    @apply object-cover transition duration-500 ease-out;
  }

  .product-card:hover .product-card__image-inner,
  .product-card:focus-within .product-card__image-inner {
    transform: scale(1.07);
  }

  .product-card__body {
    @apply p-3 flex-grow flex flex-col;
  }

  .product-card__description {
    @apply text-xs text-gray-500 mt-1 mb-3 flex-grow;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
  }

  .product-card__button {
    @apply relative bg-[var(--primary-color)] text-white rounded-full w-7 h-7 flex items-center justify-center transition duration-300 ease-out;
    overflow: hidden;
  }

  .product-card__button:hover,
  .product-card__button:focus-visible {
    @apply scale-105 shadow-md;
  }

  .product-card__button:active {
    transform: scale(0.92);
  }

  .category-pill__icon {
    margin-right: 0.25rem;
    font-size: 1rem;
    line-height: 1;
    transition: transform 300ms ease-out;
  }

  .category-pill:hover .category-pill__icon,
  .category-pill:focus-visible .category-pill__icon {
    transform: translateX(-1px) rotate(-8deg) scale(1.08);
  }

  .category-pill {
    @apply relative inline-flex items-center py-2 px-3 text-sm font-semibold text-gray-500 rounded-full transition-all duration-300 ease-out;
  }

  .category-pill::before {
    content: "";
    position: absolute;
    inset: 0;
    background: rgba(31, 169, 124, 0.12);
    transform: scale(0.4);
    opacity: 0;
    border-radius: 9999px;
    transition: transform 250ms ease, opacity 250ms ease;
  }

  .category-pill:hover,
  .category-pill:focus-visible {
    @apply text-gray-900;
  }

  .category-pill:hover::before,
  .category-pill:focus-visible::before {
    transform: scale(1);
    opacity: 1;
  }

  .category-pill--active {
    @apply text-gray-900;
  }

  .category-pill--active::before {
    transform: scale(1);
    opacity: 1;
  }

  .shop-fab {
    @apply bg-black text-white rounded-full w-14 h-14 flex items-center justify-center shadow-xl relative transition duration-300 ease-out;
    position: relative;
  }

  .shop-fab:hover,
  .shop-fab:focus-visible {
    transform: translateY(-4px) scale(1.03);
  }

  .shop-fab::before {
    content: "";
    position: absolute;
    inset: -8px;
    border-radius: 9999px;
    border: 1px solid rgba(31, 169, 124, 0.45);
    opacity: 0.15;
    animation: cart-beacon 2.8s ease-out infinite;
    pointer-events: none;
  }

  .pressable.is-pressed {
    transform: translateX(4px);
  }

  .pill-pressable.is-pressed {
    transform: scale(0.96);
  }

  .button-ripple {
    position: absolute;
    border-radius: 9999px;
    background: rgba(255, 255, 255, 0.5);
    transform: scale(0);
    opacity: 0.75;
    animation: ripple 600ms ease-out forwards;
  }
}

@keyframes enter-animated {
  0% {
    opacity: 0;
    transform: var(--enter-transform, translateY(16px));
  }
  60% {
    opacity: 1;
    transform: var(--enter-mid-transform, translate3d(0, -4px, 0) scale(1.01));
  }
  100% {
    opacity: 1;
    transform: none;
  }
}

@keyframes card-fade-in {
  0% {
    opacity: 0;
    transform: translateY(16px) scale(0.95);
  }
  60% {
    transform: translateY(-4px) scale(1.01);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@media (prefers-reduced-motion: reduce) {
  .enter-animated {
    animation: none !important;
    opacity: 1 !important;
    transform: none !important;
  }
}

@keyframes ripple {
  to {
    transform: scale(2.6);
    opacity: 0;
  }
}

@keyframes cart-beacon {
  0% {
    transform: scale(0.9);
    opacity: 0.4;
  }
  60% {
    transform: scale(1.15);
    opacity: 0;
  }
  100% {
    transform: scale(0.9);
    opacity: 0;
  }
}

@keyframes cart-hint-float {
  0%,
  100% {
    transform: translateX(50%) translateY(0);
  }
  50% {
    transform: translateX(50%) translateY(-6px);
  }
}
